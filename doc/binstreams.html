<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>binstreams</title>
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  toggleSwitch.addEventListener('change', switchTheme, false);


  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    document.documentElement.setAttribute('data-theme', "dark");
    toggleSwitch.checked = true;
  } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) {
    document.documentElement.setAttribute('data-theme', "light");
    toggleSwitch.checked = false;
  } else {
    const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
    if (currentTheme) {
      document.documentElement.setAttribute('data-theme', currentTheme);

      if (currentTheme === 'dark') {
        toggleSwitch.checked = true;
      }
    }
  }
}
</script>

</head>
<body onload="main()">
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">binstreams</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple">
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  <div>
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>
  <ul class="simple simple-toc" id="toc-list">
<li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
  <ul class="simple simple-toc-section">
    
  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#StreamSeekPos"
    title="StreamSeekPos = enum
  sspSet, sspCur, sspEnd"><wbr />Stream<wbr />Seek<wbr />Pos<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#FileStream"
    title="FileStream = ref object
  f: File
  filename: string
  endian: Endianness
  pos: int64"><wbr />File<wbr />Stream<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#MemStream"
    title="MemStream = ref object
  data*: seq[byte]
  pos: Natural
  endian: Endianness
  open: bool"><wbr />Mem<wbr />Stream<span class="attachedType"></span></a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#10" id="60">Consts</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#ReadChunkSize"
    title="ReadChunkSize = 512"><wbr />Read<wbr />Chunk<wbr />Size<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#WriteBufSize"
    title="WriteBufSize = 512"><wbr />Write<wbr />Buf<wbr />Size<span class="attachedType"></span></a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#newFileStream%2CFile%2CEndianness"
    title="newFileStream(f: File; endian: Endianness): FileStream"><wbr />new<wbr />File<wbr />Stream<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#newFileStream%2Cstring%2CEndianness%2CFileMode%2Cint"
    title="newFileStream(filename: string; endian: Endianness; mode: FileMode = fmRead;
              bufSize: int = -1): FileStream"><wbr />new<wbr />File<wbr />Stream<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#openFileStream%2Cstring%2CEndianness%2CFileMode%2Cint"
    title="openFileStream(filename: string; endian: Endianness; mode: FileMode = fmRead;
               bufSize: int = -1): FileStream"><wbr />open<wbr />File<wbr />Stream<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#close%2CFileStream"
    title="close(fs: FileStream)"><wbr />close<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#flush%2CFileStream"
    title="flush(fs: FileStream)"><wbr />flush<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#atEnd%2CFileStream"
    title="atEnd(fs: FileStream): bool"><wbr />at<wbr />End<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#filename%2CFileStream"
    title="filename(fs: FileStream): string"><wbr />filename<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#endian%2CFileStream"
    title="endian(fs: FileStream): Endianness"><wbr />endian<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#endian%3D%2CFileStream%2CEndianness"
    title="endian=(fs: FileStream; endian: Endianness)"><wbr />endian=<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#getPosition%2CFileStream"
    title="getPosition(fs: FileStream): int64"><wbr />get<wbr />Position<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#setPosition%2CFileStream%2Cint64%2CStreamSeekPos"
    title="setPosition(fs: FileStream; pos: int64; relativeTo: StreamSeekPos = sspSet)"><wbr />set<wbr />Position<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#read%2CFileStream%2CopenArray%5BT%5D%2CNatural%2CNatural"
    title="read[T: SomeNumber](fs: FileStream; buf: var openArray[T];
                   startIndex, numValues: Natural)"><wbr />read<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#read%2CFileStream%2Ctypedesc%5BSomeNumber%5D"
    title="read(fs: FileStream; T: typedesc[SomeNumber]): T:type"><wbr />read<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#readStr%2CFileStream%2CNatural"
    title="readStr(fs: FileStream; length: Natural): string"><wbr />read<wbr />Str<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#readChar%2CFileStream"
    title="readChar(fs: FileStream): char"><wbr />read<wbr />Char<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#readBool%2CFileStream"
    title="readBool(fs: FileStream): bool"><wbr />read<wbr />Bool<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#peek%2CFileStream%2Ctypedesc%5BSomeNumber%5D"
    title="peek(fs: FileStream; T: typedesc[SomeNumber]): T:type"><wbr />peek<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#peek%2CFileStream%2CopenArray%5BT%5D%2CNatural%2CNatural"
    title="peek[T: SomeNumber](fs: FileStream; buf: var openArray[T];
                   startIndex, numValues: Natural)"><wbr />peek<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#peekStr%2CFileStream%2CNatural"
    title="peekStr(fs: FileStream; length: Natural): string"><wbr />peek<wbr />Str<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#peekChar%2CFileStream"
    title="peekChar(fs: FileStream): char"><wbr />peek<wbr />Char<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#peekBool%2CFileStream"
    title="peekBool(fs: FileStream): bool"><wbr />peek<wbr />Bool<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#write%2CFileStream%2CopenArray%5BT%5D%2CNatural%2CNatural"
    title="write[T: SomeNumber](fs: FileStream; buf: openArray[T];
                    startIndex, numValues: Natural)"><wbr />write<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#write%2CFileStream%2CT"
    title="write[T: SomeNumber](fs: FileStream; value: T)"><wbr />write<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#writeStr%2CFileStream%2Cstring"
    title="writeStr(fs: FileStream; s: string)"><wbr />write<wbr />Str<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#writeChar%2CFileStream%2Cchar"
    title="writeChar(fs: FileStream; ch: char)"><wbr />write<wbr />Char<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#writeBool%2CFileStream%2Cbool"
    title="writeBool(fs: FileStream; b: bool)"><wbr />write<wbr />Bool<span class="attachedType">FileStream</span></a></li>
  <li><a class="reference" href="#newMemStream%2Cseq%5Bbyte%5D%2CEndianness"
    title="newMemStream(data: seq[byte]; endian: Endianness): MemStream"><wbr />new<wbr />Mem<wbr />Stream<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#newMemStream%2CEndianness"
    title="newMemStream(endian: Endianness): MemStream"><wbr />new<wbr />Mem<wbr />Stream<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#close%2CMemStream"
    title="close(ms: MemStream)"><wbr />close<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#flush%2CMemStream"
    title="flush(ms: MemStream)"><wbr />flush<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#atEnd%2CMemStream"
    title="atEnd(ms: MemStream): bool"><wbr />at<wbr />End<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#endian%2CMemStream"
    title="endian(ms: MemStream): Endianness"><wbr />endian<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#endian%3D%2CMemStream%2CEndianness"
    title="endian=(ms: MemStream; endian: Endianness)"><wbr />endian=<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#getPosition%2CMemStream"
    title="getPosition(ms: MemStream): int64"><wbr />get<wbr />Position<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#setPosition%2CMemStream%2Cint64%2CStreamSeekPos"
    title="setPosition(ms: MemStream; pos: int64; relativeTo: StreamSeekPos = sspSet)"><wbr />set<wbr />Position<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#read%2CMemStream%2CopenArray%5BT%5D%2CNatural%2CNatural"
    title="read[T: SomeNumber](ms: MemStream; buf: var openArray[T];
                   startIndex, numValues: Natural)"><wbr />read<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#read%2CMemStream%2Ctypedesc%5BSomeNumber%5D"
    title="read(ms: MemStream; T: typedesc[SomeNumber]): T:type"><wbr />read<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#readStr%2CMemStream%2CNatural"
    title="readStr(ms: MemStream; length: Natural): string"><wbr />read<wbr />Str<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#readChar%2CMemStream"
    title="readChar(ms: MemStream): char"><wbr />read<wbr />Char<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#readBool%2CMemStream"
    title="readBool(ms: MemStream): bool"><wbr />read<wbr />Bool<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#peek%2CMemStream%2Ctypedesc%5BSomeNumber%5D"
    title="peek(ms: MemStream; T: typedesc[SomeNumber]): T:type"><wbr />peek<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#peek%2CMemStream%2CopenArray%5BT%5D%2CNatural%2CNatural"
    title="peek[T: SomeNumber](ms: MemStream; buf: var openArray[T];
                   startIndex, numValues: Natural)"><wbr />peek<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#peekStr%2CMemStream%2CNatural"
    title="peekStr(ms: MemStream; length: Natural): string"><wbr />peek<wbr />Str<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#peekChar%2CMemStream"
    title="peekChar(ms: MemStream): char"><wbr />peek<wbr />Char<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#peekBool%2CMemStream"
    title="peekBool(ms: MemStream): bool"><wbr />peek<wbr />Bool<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#write%2CMemStream%2CopenArray%5BT%5D%2CNatural%2CNatural"
    title="write[T: SomeNumber](ms: MemStream; buf: openArray[T]; startIndex, numValues: Natural)"><wbr />write<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#write%2CMemStream%2CT"
    title="write[T: SomeNumber](ms: MemStream; value: T)"><wbr />write<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#writeStr%2CMemStream%2Cstring"
    title="writeStr(ms: MemStream; s: string)"><wbr />write<wbr />Str<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#writeChar%2CMemStream%2Cchar"
    title="writeChar(ms: MemStream; ch: char)"><wbr />write<wbr />Char<span class="attachedType">MemStream</span></a></li>
  <li><a class="reference" href="#writeBool%2CMemStream%2Cbool"
    title="writeBool(ms: MemStream; b: bool)"><wbr />write<wbr />Bool<span class="attachedType">MemStream</span></a></li>

  </ul>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc"><table class="docinfo" frame="void" rules="none"><col class="docinfo-name" /><col class="docinfo-content" /><tbody valign="top"><tr><th class="docinfo-name">Authors:</th><td> John Novak</td></tr>
</tbody></table><p><strong>nim-binstreams</strong> is a no-dependencies Nim library that provides endianness aware binary streams. It is a wrapper over the standard <tt class="docutils literal"><span class="pre">io</span></tt> module, and it uses <a class="reference external" href="https://github.com/status-im/nim-stew/blob/master/stew/endians2.nim">stew/endians2</a> for endianness conversions (included in the project), so it should be reasonably fast.</p>
<p>Main features:</p>
<ul class="simple"><li>Support for file and memory buffer backed streams through a single interface</li>
<li>Possibility to switch the endianness of a stream on the fly</li>
<li>Mixed read/write streams are supported</li>
<li>Generics friendly API</li>
</ul>
</p>
  <div class="section" id="6">
<h1><a class="toc-backref" href="#6">Imports</a></h1>
<dl class="item">
<a class="reference external" href="endians2.html">endians2</a>
</dl></div>
<div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<a id="StreamSeekPos"></a>
<dt><pre><a href="binstreams.html#StreamSeekPos"><span class="Identifier">StreamSeekPos</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">sspSet</span><span class="Other">,</span> <span class="Identifier">sspCur</span><span class="Other">,</span> <span class="Identifier">sspEnd</span></pre></dt>
<dd>



</dd>
<a id="FileStream"></a>
<dt><pre><a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">f</span><span class="Other">:</span> <span class="Identifier">File</span>
  <span class="Identifier">filename</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">endian</span><span class="Other">:</span> <span class="Identifier">Endianness</span>
  <span class="Identifier">pos</span><span class="Other">:</span> <span class="Identifier">int64</span>
</pre></dt>
<dd>



</dd>
<a id="MemStream"></a>
<dt><pre><a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">data</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">byte</span><span class="Other">]</span>
  <span class="Identifier">pos</span><span class="Other">:</span> <span class="Identifier">Natural</span>
  <span class="Identifier">endian</span><span class="Other">:</span> <span class="Identifier">Endianness</span>
  <span class="Identifier">open</span><span class="Other">:</span> <span class="Identifier">bool</span>
</pre></dt>
<dd>



</dd>

</dl></div>
<div class="section" id="10">
<h1><a class="toc-backref" href="#10">Consts</a></h1>
<dl class="item">
<a id="ReadChunkSize"></a>
<dt><pre><a href="binstreams.html#ReadChunkSize"><span class="Identifier">ReadChunkSize</span></a> <span class="Other">=</span> <span class="DecNumber">512</span></pre></dt>
<dd>



</dd>
<a id="WriteBufSize"></a>
<dt><pre><a href="binstreams.html#WriteBufSize"><span class="Identifier">WriteBufSize</span></a> <span class="Other">=</span> <span class="DecNumber">512</span></pre></dt>
<dd>



</dd>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<a id="newFileStream,File,Endianness"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#newFileStream%2CFile%2CEndianness"><span class="Identifier">newFileStream</span></a><span class="Other">(</span><span class="Identifier">f</span><span class="Other">:</span> <span class="Identifier">File</span><span class="Other">;</span> <span class="Identifier">endian</span><span class="Other">:</span> <span class="Identifier">Endianness</span><span class="Other">)</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Creates a new file stream from a file handle with the given endianness. It is possible to change the endianness later. The current file position is not changed.

</dd>
<a id="newFileStream,string,Endianness,FileMode,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#newFileStream%2Cstring%2CEndianness%2CFileMode%2Cint"><span class="Identifier">newFileStream</span></a><span class="Other">(</span><span class="Identifier">filename</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">endian</span><span class="Other">:</span> <span class="Identifier">Endianness</span><span class="Other">;</span> <span class="Identifier">mode</span><span class="Other">:</span> <span class="Identifier">FileMode</span> <span class="Other">=</span> <span class="Identifier">fmRead</span><span class="Other">;</span>
                  <span class="Identifier">bufSize</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="Operator">-</span><span class="DecNumber">1</span><span class="Other">)</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Creates a new file stream from a file named <tt class="docutils literal"><span class="pre">filename</span></tt> with the given <tt class="docutils literal"><span class="pre">mode</span></tt> and endianness. It is possible to change the endianness later. It is also possible to explicitly set the <tt class="docutils literal"><span class="pre">bufSize</span></tt> (the default is to use whatever default <tt class="docutils literal"><span class="pre">open</span></tt> uses). This method does not raise an exception if the file cannot be opened; it just returns <tt class="docutils literal"><span class="pre">nil</span></tt>.

</dd>
<a id="openFileStream,string,Endianness,FileMode,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#openFileStream%2Cstring%2CEndianness%2CFileMode%2Cint"><span class="Identifier">openFileStream</span></a><span class="Other">(</span><span class="Identifier">filename</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">endian</span><span class="Other">:</span> <span class="Identifier">Endianness</span><span class="Other">;</span> <span class="Identifier">mode</span><span class="Other">:</span> <span class="Identifier">FileMode</span> <span class="Other">=</span> <span class="Identifier">fmRead</span><span class="Other">;</span>
                   <span class="Identifier">bufSize</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="Operator">-</span><span class="DecNumber">1</span><span class="Other">)</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Creates a new file stream from a file named <tt class="docutils literal"><span class="pre">filename</span></tt> with the given <tt class="docutils literal"><span class="pre">mode</span></tt> and endianness. It is possible to change the endianness later. It is also possible to explicitly set the <tt class="docutils literal"><span class="pre">bufSize</span></tt> (the default is to use whatever default <tt class="docutils literal"><span class="pre">open</span></tt> uses).</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the file cannot be opened.</p>


</dd>
<a id="close,FileStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#close%2CFileStream"><span class="Identifier">close</span></a><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Closes a file stream.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the stream has been closed or has not been initialised.</p>


</dd>
<a id="flush,FileStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#flush%2CFileStream"><span class="Identifier">flush</span></a><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Flushes the file associated with the stream.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the stream is not open.</p>


</dd>
<a id="atEnd,FileStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#atEnd%2CFileStream"><span class="Identifier">atEnd</span></a><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Returns true if the file position is at the end of the stream (calls <tt class="docutils literal"><span class="pre">endOfFile()</span></tt> internally).</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the stream is not open.</p>


</dd>
<a id="filename,FileStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#filename%2CFileStream"><span class="Identifier">filename</span></a><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns the name of the file associated with the stream.

</dd>
<a id="endian,FileStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#endian%2CFileStream"><span class="Identifier">endian</span></a><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Endianness</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns the current endianness.

</dd>
<a id="endian=,FileStream,Endianness"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#endian%3D%2CFileStream%2CEndianness"><span class="Identifier">endian=</span></a><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">;</span> <span class="Identifier">endian</span><span class="Other">:</span> <span class="Identifier">Endianness</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Sets the endianness (effective from the next read/write operation).

</dd>
<a id="getPosition,FileStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getPosition%2CFileStream"><span class="Identifier">getPosition</span></a><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int64</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Gets the file position of the file associated with the stream.</p>
<p>Note: even if you created the stream from a file handle, it is preferable to use this method for querying the current file position as the stream maintains its own file position for better performance (so no calls to OS functions).</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the stream is not open.</p>


</dd>
<a id="setPosition,FileStream,int64,StreamSeekPos"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#setPosition%2CFileStream%2Cint64%2CStreamSeekPos"><span class="Identifier">setPosition</span></a><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">;</span> <span class="Identifier">pos</span><span class="Other">:</span> <span class="Identifier">int64</span><span class="Other">;</span> <span class="Identifier">relativeTo</span><span class="Other">:</span> <a href="binstreams.html#StreamSeekPos"><span class="Identifier">StreamSeekPos</span></a> <span class="Other">=</span> <span class="Identifier">sspSet</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Sets the file position of the file associated with the stream.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the stream is not open.</p>


</dd>
<a id="read,FileStream,openArray[T],Natural,Natural"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#read%2CFileStream%2CopenArray%5BT%5D%2CNatural%2CNatural"><span class="Identifier">read</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">SomeNumber</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">;</span> <span class="Identifier">buf</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">;</span>
                       <span class="Identifier">startIndex</span><span class="Other">,</span> <span class="Identifier">numValues</span><span class="Other">:</span> <span class="Identifier">Natural</span><span class="Other">)</span></pre></dt>
<dd>

<p>Reads <tt class="docutils literal"><span class="pre">numValues</span></tt> number of values from the stream into <tt class="docutils literal"><span class="pre">buf</span></tt>, starting from <tt class="docutils literal"><span class="pre">startIndex</span></tt>.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> on read errors.</p>


</dd>
<a id="read,FileStream,typedesc[SomeNumber]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#read%2CFileStream%2Ctypedesc%5BSomeNumber%5D"><span class="Identifier">read</span></a><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">;</span> <span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">[</span><span class="Identifier">SomeNumber</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">T:type</span></pre></dt>
<dd>

<p>Reads a single value of type <tt class="docutils literal"><span class="pre">T</span></tt> from the stream.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> on read errors.</p>


</dd>
<a id="readStr,FileStream,Natural"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#readStr%2CFileStream%2CNatural"><span class="Identifier">readStr</span></a><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">;</span> <span class="Identifier">length</span><span class="Other">:</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Reads <tt class="docutils literal"><span class="pre">length</span></tt> number of bytes from the stream as an UTF-8 string. <tt class="docutils literal"><span class="pre">length</span></tt> should be equal to the length of the UTF-8 byte sequence, excluding any terminating zeroes.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> on read errors.</p>


</dd>
<a id="readChar,FileStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#readChar%2CFileStream"><span class="Identifier">readChar</span></a><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">char</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
                                  <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Reads a single char (byte) from the stream.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> on read errors.</p>


</dd>
<a id="readBool,FileStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#readBool%2CFileStream"><span class="Identifier">readBool</span></a><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
                                  <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Reads a byte as a bool from the stream. Zero bytes are considered false, any other value is considered true.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> on read errors.</p>


</dd>
<a id="peek,FileStream,typedesc[SomeNumber]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#peek%2CFileStream%2Ctypedesc%5BSomeNumber%5D"><span class="Identifier">peek</span></a><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">;</span> <span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">[</span><span class="Identifier">SomeNumber</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">T:type</span></pre></dt>
<dd>

<p>Peeks (reads without advancing the file position) a single value of type <tt class="docutils literal"><span class="pre">T</span></tt> from the stream.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> on read errors.</p>


</dd>
<a id="peek,FileStream,openArray[T],Natural,Natural"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#peek%2CFileStream%2CopenArray%5BT%5D%2CNatural%2CNatural"><span class="Identifier">peek</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">SomeNumber</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">;</span> <span class="Identifier">buf</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">;</span>
                       <span class="Identifier">startIndex</span><span class="Other">,</span> <span class="Identifier">numValues</span><span class="Other">:</span> <span class="Identifier">Natural</span><span class="Other">)</span></pre></dt>
<dd>

<p>Peeks (reads without advancing the file position) <tt class="docutils literal"><span class="pre">numValues</span></tt> number of values into <tt class="docutils literal"><span class="pre">buf</span></tt> starting from <tt class="docutils literal"><span class="pre">startIndex</span></tt>.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> on read errors.</p>


</dd>
<a id="peekStr,FileStream,Natural"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#peekStr%2CFileStream%2CNatural"><span class="Identifier">peekStr</span></a><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">;</span> <span class="Identifier">length</span><span class="Other">:</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Peeks (reads without advancing the file position) <tt class="docutils literal"><span class="pre">length</span></tt> number of bytes from the stream as an UTF-8 string. <tt class="docutils literal"><span class="pre">length</span></tt> should be equal to the length of the UTF-8 byte sequence, excluding any terminating zeroes.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> on read errors.</p>


</dd>
<a id="peekChar,FileStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#peekChar%2CFileStream"><span class="Identifier">peekChar</span></a><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">char</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
                                  <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Peeks (reads without advancing the file position) a single char (byte) from the stream.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> on read errors.</p>


</dd>
<a id="peekBool,FileStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#peekBool%2CFileStream"><span class="Identifier">peekBool</span></a><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
                                  <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Peeks (reads without advancing the file position) a byte as a bool from the stream. Zero bytes are considered false, any other value is considered true.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> on read errors.</p>


</dd>
<a id="write,FileStream,openArray[T],Natural,Natural"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#write%2CFileStream%2CopenArray%5BT%5D%2CNatural%2CNatural"><span class="Identifier">write</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">SomeNumber</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">;</span> <span class="Identifier">buf</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">;</span>
                        <span class="Identifier">startIndex</span><span class="Other">,</span> <span class="Identifier">numValues</span><span class="Other">:</span> <span class="Identifier">Natural</span><span class="Other">)</span></pre></dt>
<dd>

<p>Writes <tt class="docutils literal"><span class="pre">numValues</span></tt> number of values from <tt class="docutils literal"><span class="pre">buf</span></tt> starting from <tt class="docutils literal"><span class="pre">startIndex</span></tt> to the stream.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> on write errors.</p>


</dd>
<a id="write,FileStream,T"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#write%2CFileStream%2CT"><span class="Identifier">write</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">SomeNumber</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">;</span> <span class="Identifier">value</span><span class="Other">:</span> <span class="Identifier">T</span><span class="Other">)</span></pre></dt>
<dd>

<p>Writes a single value to the stream. The width of the written item is the same as that of <tt class="docutils literal"><span class="pre">value</span></tt>.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> on write errors.</p>


</dd>
<a id="writeStr,FileStream,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#writeStr%2CFileStream%2Cstring"><span class="Identifier">writeStr</span></a><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">;</span> <span class="Identifier">s</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
                                      <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Writes the UTF-8 byte sequence of a string to the stream. No terminating zero byte is written.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> on write errors.</p>


</dd>
<a id="writeChar,FileStream,char"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#writeChar%2CFileStream%2Cchar"><span class="Identifier">writeChar</span></a><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">;</span> <span class="Identifier">ch</span><span class="Other">:</span> <span class="Identifier">char</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
                                      <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Writes a single char (byte) to the stream.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> on write errors.</p>


</dd>
<a id="writeBool,FileStream,bool"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#writeBool%2CFileStream%2Cbool"><span class="Identifier">writeBool</span></a><span class="Other">(</span><span class="Identifier">fs</span><span class="Other">:</span> <a href="binstreams.html#FileStream"><span class="Identifier">FileStream</span></a><span class="Other">;</span> <span class="Identifier">b</span><span class="Other">:</span> <span class="Identifier">bool</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
                                     <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Writes a single bool to the stream. <tt class="docutils literal"><span class="pre">0</span></tt> is written for false and <tt class="docutils literal"><span class="pre">1</span></tt> for true.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> on write errors.</p>


</dd>
<a id="newMemStream,seq[byte],Endianness"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#newMemStream%2Cseq%5Bbyte%5D%2CEndianness"><span class="Identifier">newMemStream</span></a><span class="Other">(</span><span class="Identifier">data</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">byte</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">endian</span><span class="Other">:</span> <span class="Identifier">Endianness</span><span class="Other">)</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Creates a new memory stream from a sequence of bytes with the given endianness. It is possible to change the endianness later.

</dd>
<a id="newMemStream,Endianness"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#newMemStream%2CEndianness"><span class="Identifier">newMemStream</span></a><span class="Other">(</span><span class="Identifier">endian</span><span class="Other">:</span> <span class="Identifier">Endianness</span><span class="Other">)</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Creates a new memory stream with an empty internal buffer (typically for writing) with the given endianness. It is possible to change the endianness later.

</dd>
<a id="close,MemStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#close%2CMemStream"><span class="Identifier">close</span></a><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Closes the memory stream.

</dd>
<a id="flush,MemStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#flush%2CMemStream"><span class="Identifier">flush</span></a><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p><tt class="docutils literal"><span class="pre">flush</span></tt> is a no-op for memory streams.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the stream is not open.</p>


</dd>
<a id="atEnd,MemStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#atEnd%2CMemStream"><span class="Identifier">atEnd</span></a><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Returns true if the stream position is at the last item of the underlying memory buffer.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the stream is not open.</p>


</dd>
<a id="endian,MemStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#endian%2CMemStream"><span class="Identifier">endian</span></a><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Endianness</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns the current endianness.

</dd>
<a id="endian=,MemStream,Endianness"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#endian%3D%2CMemStream%2CEndianness"><span class="Identifier">endian=</span></a><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">;</span> <span class="Identifier">endian</span><span class="Other">:</span> <span class="Identifier">Endianness</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Sets the endianness (effective from the next read/write operation).

</dd>
<a id="getPosition,MemStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getPosition%2CMemStream"><span class="Identifier">getPosition</span></a><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int64</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Gets the current read/write position of the memory stream.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the stream is not open.</p>


</dd>
<a id="setPosition,MemStream,int64,StreamSeekPos"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#setPosition%2CMemStream%2Cint64%2CStreamSeekPos"><span class="Identifier">setPosition</span></a><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">;</span> <span class="Identifier">pos</span><span class="Other">:</span> <span class="Identifier">int64</span><span class="Other">;</span> <span class="Identifier">relativeTo</span><span class="Other">:</span> <a href="binstreams.html#StreamSeekPos"><span class="Identifier">StreamSeekPos</span></a> <span class="Other">=</span> <span class="Identifier">sspSet</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Sets the current read/write position of the memory stream.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the stream is not open.</p>


</dd>
<a id="read,MemStream,openArray[T],Natural,Natural"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#read%2CMemStream%2CopenArray%5BT%5D%2CNatural%2CNatural"><span class="Identifier">read</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">SomeNumber</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">;</span> <span class="Identifier">buf</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">;</span>
                       <span class="Identifier">startIndex</span><span class="Other">,</span> <span class="Identifier">numValues</span><span class="Other">:</span> <span class="Identifier">Natural</span><span class="Other">)</span></pre></dt>
<dd>

<p>Reads <tt class="docutils literal"><span class="pre">numValues</span></tt> number of values from the stream into <tt class="docutils literal"><span class="pre">buf</span></tt>, starting from <tt class="docutils literal"><span class="pre">startIndex</span></tt>.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the stream is not open or if an attemp has been made to read past the end of the in-memory buffer.</p>


</dd>
<a id="read,MemStream,typedesc[SomeNumber]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#read%2CMemStream%2Ctypedesc%5BSomeNumber%5D"><span class="Identifier">read</span></a><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">;</span> <span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">[</span><span class="Identifier">SomeNumber</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">T:type</span></pre></dt>
<dd>

<p>Reads a single value of type <tt class="docutils literal"><span class="pre">T</span></tt> from the stream.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the stream is not open or if an attemp has been made to read past the end of the in-memory buffer.</p>


</dd>
<a id="readStr,MemStream,Natural"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#readStr%2CMemStream%2CNatural"><span class="Identifier">readStr</span></a><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">;</span> <span class="Identifier">length</span><span class="Other">:</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">IndexError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Reads <tt class="docutils literal"><span class="pre">length</span></tt> number of bytes from the stream as an UTF-8 string. <tt class="docutils literal"><span class="pre">length</span></tt> should be equal to the number of bytes in the UTF-8 string, excluding any terminating zeroes.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the stream is not open or if an attemp has been made to read past the end of the in-memory buffer.</p>


</dd>
<a id="readChar,MemStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#readChar%2CMemStream"><span class="Identifier">readChar</span></a><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">char</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">IndexError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Reads a single char (byte) from the stream.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the stream is not open or if an attemp has been made to read past the end of the in-memory buffer.</p>


</dd>
<a id="readBool,MemStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#readBool%2CMemStream"><span class="Identifier">readBool</span></a><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">IndexError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Reads a byte as a bool from the stream. Zero bytes are considered false, any other value is considered true.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the stream is not open or if an attemp has been made to read past the end of the in-memory buffer.</p>


</dd>
<a id="peek,MemStream,typedesc[SomeNumber]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#peek%2CMemStream%2Ctypedesc%5BSomeNumber%5D"><span class="Identifier">peek</span></a><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">;</span> <span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">[</span><span class="Identifier">SomeNumber</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">T:type</span></pre></dt>
<dd>

<p>Peeks (reads without advancing the file position) a single value of type <tt class="docutils literal"><span class="pre">T</span></tt> from the stream.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the stream is not open or if an attemp has been made to read past the end of the in-memory buffer.</p>


</dd>
<a id="peek,MemStream,openArray[T],Natural,Natural"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#peek%2CMemStream%2CopenArray%5BT%5D%2CNatural%2CNatural"><span class="Identifier">peek</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">SomeNumber</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">;</span> <span class="Identifier">buf</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">;</span>
                       <span class="Identifier">startIndex</span><span class="Other">,</span> <span class="Identifier">numValues</span><span class="Other">:</span> <span class="Identifier">Natural</span><span class="Other">)</span></pre></dt>
<dd>

<p>Peeks (reads without advancing the file position) <tt class="docutils literal"><span class="pre">numValues</span></tt> number of values into <tt class="docutils literal"><span class="pre">buf</span></tt> starting from <tt class="docutils literal"><span class="pre">startIndex</span></tt>.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the stream is not open or if an attemp has been made to read past the end of the in-memory buffer.</p>


</dd>
<a id="peekStr,MemStream,Natural"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#peekStr%2CMemStream%2CNatural"><span class="Identifier">peekStr</span></a><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">;</span> <span class="Identifier">length</span><span class="Other">:</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">IndexError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Peeks (reads without advancing the file position) <tt class="docutils literal"><span class="pre">length</span></tt> number of bytes from the stream as an UTF-8 string.  <tt class="docutils literal"><span class="pre">length</span></tt> should be equal to the the number of bytes in the UTF-8 string, excluding any terminating zeroes.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the stream is not open or if an attemp has been made to read past the end of the in-memory buffer.</p>


</dd>
<a id="peekChar,MemStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#peekChar%2CMemStream"><span class="Identifier">peekChar</span></a><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">char</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">IndexError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Peeks (reads without advancing the file position) a single char (byte) from the stream.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the stream is not open or if an attemp has been made to read past the end of the in-memory buffer.</p>


</dd>
<a id="peekBool,MemStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#peekBool%2CMemStream"><span class="Identifier">peekBool</span></a><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">IndexError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Peeks (reads without advancing the file position) a byte as a bool from the stream. Zero bytes are considered false, any other value is considered true.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the stream is not open or if an attemp has been made to read past the end of the in-memory buffer.</p>


</dd>
<a id="write,MemStream,openArray[T],Natural,Natural"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#write%2CMemStream%2CopenArray%5BT%5D%2CNatural%2CNatural"><span class="Identifier">write</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">SomeNumber</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">;</span> <span class="Identifier">buf</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">;</span>
                        <span class="Identifier">startIndex</span><span class="Other">,</span> <span class="Identifier">numValues</span><span class="Other">:</span> <span class="Identifier">Natural</span><span class="Other">)</span></pre></dt>
<dd>

<p>Writes <tt class="docutils literal"><span class="pre">numValues</span></tt> number of values from <tt class="docutils literal"><span class="pre">buf</span></tt> starting from <tt class="docutils literal"><span class="pre">startIndex</span></tt> to the stream.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the memory stream is not open.</p>


</dd>
<a id="write,MemStream,T"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#write%2CMemStream%2CT"><span class="Identifier">write</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">SomeNumber</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">;</span> <span class="Identifier">value</span><span class="Other">:</span> <span class="Identifier">T</span><span class="Other">)</span></pre></dt>
<dd>

<p>Writes a single value to the stream. The width of the written item is the same as that of <tt class="docutils literal"><span class="pre">value</span></tt>.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the memory stream is not open.</p>


</dd>
<a id="writeStr,MemStream,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#writeStr%2CMemStream%2Cstring"><span class="Identifier">writeStr</span></a><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">;</span> <span class="Identifier">s</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Writes the UTF-8 byte sequence of a string to the stream. No terminating zero character is written.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the memory stream is not open.</p>


</dd>
<a id="writeChar,MemStream,char"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#writeChar%2CMemStream%2Cchar"><span class="Identifier">writeChar</span></a><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">;</span> <span class="Identifier">ch</span><span class="Other">:</span> <span class="Identifier">char</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Writes a single char (byte) to the stream.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the memory stream is not open.</p>


</dd>
<a id="writeBool,MemStream,bool"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#writeBool%2CMemStream%2Cbool"><span class="Identifier">writeBool</span></a><span class="Other">(</span><span class="Identifier">ms</span><span class="Other">:</span> <a href="binstreams.html#MemStream"><span class="Identifier">MemStream</span></a><span class="Other">;</span> <span class="Identifier">b</span><span class="Other">:</span> <span class="Identifier">bool</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Writes a single bool to the stream. <tt class="docutils literal"><span class="pre">0</span></tt> is written for false and <tt class="docutils literal"><span class="pre">1</span></tt> for true.</p>
<p>Raises an <tt class="docutils literal"><span class="pre">IOError</span></tt> if the memory stream is not open.</p>


</dd>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2020-10-16 07:29:35 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
